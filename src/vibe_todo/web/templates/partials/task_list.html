{% for task in tasks %}
<article class="task-card">
    <div class="task-header">
        <h3 class="task-title">
            <span class="task-status status-{{ task.status.value }}">
                {% if task.status.value == "todo" %}å¾…å¤„ç†
                {% elif task.status.value == "in_progress" %}è¿›è¡Œä¸­
                {% else %}å·²å®Œæˆ{% endif %}
            </span>
            {{ task.title }}
        </h3>
        {% if task.time_spent > 0 %}
        <span class="time-badge">â±ï¸ {{ task.format_time_spent() }}</span>
        {% endif %}
    </div>
    
    {% if task.description %}
    <p class="task-description">{{ task.description }}</p>
    {% endif %}
    
    <div class="task-actions">
        {% if task.status.value != "done" %}
        <button 
            hx-post="/tasks/{{ task.id }}/done" 
            hx-target="#task-list"
            class="secondary">
            âœ“ å®Œæˆ
        </button>
        {% endif %}
        
        {% if task.status.value == "todo" %}
        <button 
            hx-post="/tasks/{{ task.id }}/start" 
            hx-target="#task-list"
            class="contrast">
            â–¶ å¼€å§‹
        </button>
        {% endif %}
        
        <button 
            hx-delete="/tasks/{{ task.id }}" 
            hx-target="#task-list"
            hx-confirm="ç¡®è®¤åˆ é™¤æ­¤ä»»åŠ¡ï¼Ÿ"
            class="secondary outline">
            ğŸ—‘ï¸ åˆ é™¤
        </button>
        
        <form 
            hx-post="/tasks/{{ task.id }}/time" 
            hx-target="#task-list"
            style="display: inline-flex; gap: 0.5rem; margin: 0;">
            <input 
                type="number" 
                name="minutes" 
                placeholder="åˆ†é’Ÿ" 
                min="1" 
                style="width: 80px; margin: 0;">
            <button type="submit" class="outline">+ å·¥æ—¶</button>
        </form>
    </div>
</article>
{% endfor %}

{% if not tasks %}
<article>
    <p style="text-align: center; color: var(--muted-color);">æš‚æ— ä»»åŠ¡ï¼Œæ·»åŠ ä¸€ä¸ªå¼€å§‹å§ï¼</p>
</article>
{% endif %}
